<!DOCTYPE html>
<html>
    <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registration Form</title>    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    <link href="style.css" rel="stylesheet" type="text/css">
    </head>
    <body >       
        <script>
            var index = [];
        // Array starts with 0 but the id start with 0 so push a dummy value
        index.push(0);
        // Push 1 at index 1 since one child element is already created
        index.push(1)
        
        function adddest() {
          
          var div = document.createElement('div');
          var id = getID();
          // Set this attritube id so that we can access this element using Id 
          div.setAttribute("id","Div_"+id);
          
          div.innerHTML = '<input type="text" class="txtlength" name="dest_' + id + '"/>' + ' <input type="button" class="add text-white" id="add_dest()_' + id + '" onclick="adddest()" value="+" />' + ' <input type="button" class="add text-white" id="rem_dest()_' + id + '" onclick="remdest('+id+')" value="-" />';
          // inside of passing this parameter in remkid we pass id number
          document.getElementById('destination').appendChild(div);
        }
           
        function remdest(id) {
        // use the id arugment to get the div element using unique id set in addkid
          try{
        var element = document.getElementById("Div_"+id)
        element.parentNode.removeChild(element);
            index[id] = -1;
            //id number is = index of the array so we set to -1 to indicate its empty
            }
          catch(err){
            alert("id: Div_"+id)
            alert(err)
            
            }
        }  
         function getID(){
           var emptyIndex = index.indexOf(-1);
           if (emptyIndex != -1){
             index[emptyIndex] = emptyIndex
             
             return emptyIndex
           } else {
           emptyIndex = index.length
           index.push(emptyIndex)
           return emptyIndex
             }
           }
        </script>
        <h5 class="text-center text p-5">You route plan is ready. Please review and move the waypoints<br/> around as needed. Click go to start navigation</h5>
            <div class="col-md-12 text-center">
                <form action ="" method="post">
    
                    <div id="route1" class="text">                      
                      Stop 1: <input type="button" class="add text-white" value="-" /> 
                      <input type="text" name="stop_1">
                      <input type="button" class="add text-white" value="+" />
                      <input type="button" class="add text-white" value="-" />
                    </div>
                    <div id="route2" class="text">
                      Stop 2: 
                      <input type="button" class="add text-white" value="-" />
                      <input type="text" name="stop_2">
                      <input type="button" class="add text-white" value="+" />
                      <input type="button" class="add text-white" value="-" />
                    </div>
                  <div id="route3" class="text">    
                    Stop 3: 
                    <input type="button" class="add text-white" value="-" />
                    <input type="text" name="stop_3">
                    <input type="button" class="add text-white" value="+" />
                    <input type="button" class="add text-white" value="-" />
                    
                  </div>
                  <div id="route4" class="text">
                      Stop 4: 
                    <input type="button" class="add text-white" value="-" />
                    <input type="text" name="stop_4">
                    <input type="button" class="add text-white" value="+" />
                    <input type="button" class="add text-white" value="-" />
                  </div>
                    <div class="text"> Total distance: 17km</div>
                    <div class="text"> Total stops: 4</div>
                    
                    <div class="mt-2">
                      <input type="button" class="button text-white" name="route" value="Reset" />
                      <input type="button" class="button text-white" name="route" value="Go!" onclick="window.location.href='navigation.html'" />
                    </div>
                  </form>
        </div>            
    </body>
</html>