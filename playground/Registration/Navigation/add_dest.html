<!DOCTYPE html>
<html>
    <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add Destinations</title>    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    <link href="style1.css" rel="stylesheet" type="text/css">
    </head>
    <body class="regbg">
<script>
    var index = [];
// Array starts with 0 but the id start with 0 so push a dummy value
index.push(0);
// Push 1 at index 1 since one child element is already created
index.push(1)

function adddest() {
  
  var div = document.createElement('div');
  var id = getID();
  // Set this attritube id so that we can access this element using Id 
  div.setAttribute("id","Div_"+id);
  
  div.innerHTML = '<input type="text" class="txtlength" name="dest_' + id + '"/>' + ' <input type="button" class="btn text-white" id="add_dest()_' + id + '" onclick="adddest()" value="+" />' + ' <input type="button" class="btn text-white" id="rem_dest()_' + id + '" onclick="remdest('+id+')" value="-" />';
  // inside of passing this parameter in remkid we pass id number
  document.getElementById('destination').appendChild(div);
}
   
function remdest(id) {
// use the id arugment to get the div element using unique id set in addkid
  try{
var element = document.getElementById("Div_"+id)
element.parentNode.removeChild(element);
    index[id] = -1;
    //id number is = index of the array so we set to -1 to indicate its empty
    }
  catch(err){
    alert("id: Div_"+id)
    alert(err)
    
    }
}  
 function getID(){
   var emptyIndex = index.indexOf(-1);
   if (emptyIndex != -1){
     index[emptyIndex] = emptyIndex
     
     return emptyIndex
   } else {
   emptyIndex = index.length
   index.push(emptyIndex)
   return emptyIndex
     }
   }
</script>
<h4 class="text-center text-white p-5">Enter destinations below using the address box. <br/>Select + Add more to input additional destinations.</h5>
    <div class="col-md-12 text-center text-white">
<form action ="" method="post">
    
    <div id="destination" class="text-white">
            <input type="text" name="dest_1">
      <input type="button" class="btn text-white" id="add_dest()_1" onclick="adddest()" value="+" />
    </div>
    <div class="chklft"><input type="checkbox"class="text-white" name="short_distance"> Optimize for shortest overall distance</div>
    <div class="chklft"><input type="checkbox" name="time"> Otimize for shortage overall time</div>
    <div class="chklft"><input type="checkbox" name="time"> Prioritize safety</div>
    <div><input type="button" class="button text-white" onclick="window.location.href='route.html'" name="route" value="Plan my route" /></div>
  </form>
</div>
    </body>
    </html>